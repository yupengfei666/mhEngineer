{"version":3,"sources":["uni-app:///main.js","webpack:///E:/objectNew/test/engineer/pages/tab2/baoxiuadd.vue?5288","webpack:///E:/objectNew/test/engineer/pages/tab2/baoxiuadd.vue?c8ef","webpack:///E:/objectNew/test/engineer/pages/tab2/baoxiuadd.vue?fb02","webpack:///E:/objectNew/test/engineer/pages/tab2/baoxiuadd.vue?0cdb","uni-app:///pages/tab2/baoxiuadd.vue","webpack:///E:/objectNew/test/engineer/pages/tab2/baoxiuadd.vue?2a54"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uSearch","uForm","uFormItem","uInput","uButton","uTag","uUpload","uSelect","uToast","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","companySelectShow","e1","userSelectShow","e2","qzjSelectShow","e3","ssjgSelectShow","recyclableRender","staticRenderFns","_withStripped"],"mappings":"kIAAA,KACA,YACA,Y,mDAFmBA,GAAGC,kCAAoCC,EAG1DC,EAAWC,a,gECHX,yHACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,2BACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,QAAS,WACP,OAAO,qEAITC,MAAO,WACL,OAAO,iEAITC,UAAW,WACT,OAAO,+GAITC,OAAQ,WACN,OAAO,uGAITC,QAAS,WACP,OAAO,qEAITC,KAAM,WACJ,OAAO,+DAITC,QAAS,WACP,OAAO,yGAITC,QAAS,WACP,OAAO,qEAITC,OAAQ,WACN,OAAO,oEAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIM,aACPN,EAAIO,GAAK,SAASC,GAChBR,EAAIS,mBAAoB,GAG1BT,EAAIU,GAAK,SAASF,GAChBR,EAAIW,gBAAiB,GAGvBX,EAAIY,GAAK,SAASJ,GAChBR,EAAIa,eAAgB,GAGtBb,EAAIc,GAAK,SAASN,GAChBR,EAAIe,gBAAiB,KAIvBC,GAAmB,EACnBC,EAAkB,GACtBlB,EAAOmB,eAAgB,G,iCC1FvB,8GAAipB,eAAG,G,gHCgEppB,Y,ghCAGA,CACA,KADA,WAEA,OACA,MACA,MACA,YACA,YACA,aACA,aACA,OACA,gBACA,WACA,aACA,iBACA,iBACA,oBACA,cACA,eACA,mBACA,eAEA,eACA,iBACA,qCACA,MACA,YACA,aACA,YACA,gBACA,kBAEA,YACA,iBACA,kBACA,qBACA,kBACA,WACA,YACA,eACA,YACA,OACA,WACA,YACA,kBACA,iBAEA,YACA,YACA,kBACA,iBAEA,aACA,YACA,kBACA,iBAEA,mBACA,YACA,kBACA,iBAEA,UACA,YACA,gBACA,oBAKA,YACA,SACA,UADA,SACA,aACA,eADA,IACA,0CACA,eACA,uCACA,QAJA,gCAQA,UATA,SASA,KACA,eACA,wBAFA,UAGA,GAHA,IAGA,0CACA,2CAJA,gCAOA,cAhBA,SAgBA,GACA,kCAEA,kBAnBA,WAoBA,+CACA,2BACA,8BACA,yBAEA,cAzBA,WA0BA,uCACA,sBACA,sBACA,sBAEA,oBACA,sBACA,wBAEA,uBAGA,eAtCA,WAuCA,yCACA,uBACA,wBAEA,mBA3CA,SA2CA,cACA,GACA,aAEA,iEAEA,GADA,eACA,cAIA,aANA,UAOA,GAPA,IAOA,0CACA,gBACA,WACA,iBAVA,8BAaA,mCACA,mCACA,mBAZA,qBAeA,eAjEA,WAiEA,WACA,GACA,YACA,YACA,UACA,aAEA,2DACA,gBAGA,OACA,YACA,aACA,sBAEA,wDACA,cADA,UAEA,GAFA,IAEA,0CACA,iBACA,YACA,gBALA,uCAWA,WA5FA,WA4FA,aACA,KADA,IAEA,eAFA,IAEA,0CACA,iBACA,gBAJA,8BAOA,cAOA,uDACA,uCACA,MACA,OACA,kBACA,wBACA,0BACA,6BACA,+BACA,yBACA,gCACA,gCACA,sCACA,6BACA,gCACA,iDACA,4BAEA,GACA,uBACA,QAEA,gDACA,qBACA,aACA,iBAEA,uBACA,mBACA,aAnCA,wBACA,gBACA,gBAsCA,gBA5IA,SA4IA,GACA,8BACA,8BACA,kBAEA,iBAjJA,SAiJA,GACA,+BACA,gCAEA,oBArJA,SAqJA,GACA,6BACA,+BACA,kBACA,8CAEA,eA3JA,WA2JA,WACA,gBACA,OACA,8BAEA,oBACA,iEACA,GADA,IACA,0CACA,oBACA,WACA,cAJA,8BAOA,sCACA,wCACA,eACA,2CAGA,iBA9KA,SA8KA,GACA,mCACA,sCACA,iCAEA,WAnLA,WAmLA,WACA,iBACA,OACA,+BAEA,gFACA,GADA,IACA,0CACA,iBACA,WACA,aACA,gBALA,8BAQA,wBACA,qBACA,yCACA,4CACA,sCACA,wBACA,yBAGA,wBACA,2BACA,qBACA,wBACA,4BAIA,UAjNA,WAiNA,WACA,GACA,+BAEA,qDACA,yBAGA,UAzNA,WAyNA,WACA,GACA,uBACA,mCACA,UACA,OAEA,iBACA,4DACA,gBAMA,OAJA,oBACA,oBACA,yBACA,oBAGA,oBACA,mBAVA,UAWA,GAXA,IAWA,0CACA,iBACA,WACA,+BAdA,8BAiBA,qCACA,0CAIA,QA7TA,WA8TA,uCAEA,OAhUA,aAiUA,OAjUA,WAkUA,sBACA,sBACA,mB,2ECvYA,8GAA+6B,eAAG,G","file":"pages/tab2/baoxiuadd.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/tab2/baoxiuadd.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./baoxiuadd.vue?vue&type=template&id=7fdf4174&\"\nvar renderjs\nimport script from \"./baoxiuadd.vue?vue&type=script&lang=js&\"\nexport * from \"./baoxiuadd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./baoxiuadd.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tab2/baoxiuadd.vue\"\nexport default component.exports","export * from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./baoxiuadd.vue?vue&type=template&id=7fdf4174&\"","var components\ntry {\n  components = {\n    uSearch: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-search/u-search\" */ \"@/uview-ui/components/u-search/u-search.vue\"\n      )\n    },\n    uForm: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form/u-form\" */ \"@/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form-item/u-form-item\" */ \"@/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uTag: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tag/u-tag\" */ \"@/uview-ui/components/u-tag/u-tag.vue\"\n      )\n    },\n    uUpload: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-upload/u-upload\" */ \"@/uview-ui/components/u-upload/u-upload.vue\"\n      )\n    },\n    uSelect: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-select/u-select\" */ \"@/uview-ui/components/u-select/u-select.vue\"\n      )\n    },\n    uToast: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-toast/u-toast\" */ \"@/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.companySelectShow = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.userSelectShow = true\n    }\n\n    _vm.e2 = function($event) {\n      _vm.qzjSelectShow = true\n    }\n\n    _vm.e3 = function($event) {\n      _vm.ssjgSelectShow = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./baoxiuadd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./baoxiuadd.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<u-search style=\"margin-top: 10rpx;\" @custom=\"getCompanyList\" @search=\"getCompanyList\" placeholder=\"公司搜索\" v-model=\"companyName\"></u-search>\r\n\t\t<u-form :model=\"form\" :error-type=\"['message']\" :label-width=\"165\" ref=\"uForm\" style=\"margin: 0rpx 30rpx;\">\r\n\t\t\t<u-form-item label=\"客户公司\" :required=\"true\">\r\n\t\t\t\t<u-input v-model=\"form.company\" type=\"select\" @click=\"companySelectShow = true\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"联系人\" prop=\"create_person_id\" :required=\"true\">\r\n\t\t\t\t<u-input v-if=\"show.contactInput\" v-model=\"form.create_person_id\" />\r\n\t\t\t\t<u-input v-else v-model=\"form.create_person\" type=\"select\" @click=\"userSelectShow = true\" />\r\n\t\t\t\t<u-button v-if=\"show.contactInput && show.contactButton\" type=\"primary\" size=\"mini\" @click=\"changeContactShow\"\r\n\t\t\t\t\tstyle=\"position: absolute;right: 30rpx;top:20rpx;z-index: 9;\">选择</u-button>\r\n\t\t\t\t<u-button v-if=\"!show.contactInput && show.contactButton\" type=\"success\" size=\"mini\" @click=\"changeContactShow\"\r\n\t\t\t\t\tstyle=\"position: absolute;right: 30rpx;top:20rpx;z-index: 9;\">手填</u-button>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"联系电话\" prop=\"report_tel\" :required=\"true\">\r\n\t\t\t\t<u-input v-model=\"form.report_tel\" type=\"text\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"起重机\" prop=\"qzjLabel\" :required=\"true\">\r\n\t\t\t\t<u-input v-if=\"show.qzjInput\" v-model=\"form.qzjLabel\" />\r\n\t\t\t\t<u-input v-else v-model=\"form.qzjLabel\" type=\"select\" @click=\"qzjSelectShow = true\" />\r\n\t\t\t\t<u-button v-if=\"show.qzjInput\" type=\"primary\" size=\"mini\" @click=\"changeQzjShow\"\r\n\t\t\t\t\tstyle=\"position: absolute;right: 30rpx;top:20rpx;z-index: 9;\">选择</u-button>\r\n\t\t\t\t<u-button v-else type=\"success\" size=\"mini\" @click=\"changeQzjShow\"\r\n\t\t\t\t\tstyle=\"position: absolute;right: 30rpx;top:20rpx;z-index: 9;\">手填</u-button>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"所属机构\" prop=\"ssjgLabel\" :required=\"true\">\r\n\t\t\t\t<u-input v-if=\"show.ssjgInput\" v-model=\"form.ssjgLabel\" />\r\n\t\t\t\t<u-input v-else v-model=\"form.ssjgLabel\" type=\"select\" @click=\"ssjgSelectShow = true\" />\r\n\t\t\t\t<u-button v-if=\"show.ssjgInput && show.jgButton\" type=\"primary\" size=\"mini\" @click=\"changeSsjgShow\"\r\n\t\t\t\t\tstyle=\"position: absolute;right: 30rpx;top:20rpx;z-index: 9;\">选择</u-button>\r\n\t\t\t\t<u-button v-if=\"!show.ssjgInput && show.jgButton\" type=\"success\" size=\"mini\" @click=\"changeSsjgShow\"\r\n\t\t\t\t\tstyle=\"position: absolute;right: 30rpx;top:20rpx;z-index: 9;\">手填</u-button>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"项目/工作号\">\r\n\t\t\t\t<u-input v-model=\"form.gzh\" type=\"text\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"产品类型\" prop=\"product_type\" :required=\"true\">\r\n\t\t\t\t<u-tag :text=\"item.name\" :mode=\"item.mode\" type=\"success\" v-for=\"(item, index) in typeList\"\r\n\t\t\t\t\tshape=\"circle\" @click=\"tagSelect(item.name)\" style=\"margin-right: 10rpx;\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"需求描述\">\r\n\t\t\t\t<u-input v-model=\"form.bug_description\" type=\"textarea\" :height=\"110\" :auto-height=\"true\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"上传\">\r\n\t\t\t\t<u-upload :action=\"action\" :show-progress=\"false\" @on-success=\"uploadSuccess\" @on-remove=\"removeImg\"></u-upload>\r\n\t\t\t</u-form-item>\r\n\t\t\t<view style=\"display: flex;\">\r\n\t\t\t\t<view style=\"width: 100rpx;\">提示：\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"color: grey;\">\r\n\t\t\t\t\t上传请尽可能体现出问题设备的型号、序列号或现象\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<u-button type=\"success\" @click=\"submitData\" style=\"margin-top: 20rpx;\">确 定</u-button>\r\n\t\t</u-form>\r\n\t\t<u-select v-model=\"qzjSelectShow\" :list=\"qzjList\" @confirm=\"qzjSelectChange\"></u-select>\r\n\t\t<u-select v-model=\"ssjgSelectShow\" :list=\"ssjgList\" @confirm=\"ssjgSelectChange\"></u-select>\r\n\t\t<u-select v-model=\"companySelectShow\" :list=\"companyList\" @confirm=\"companySelectChange\"></u-select>\r\n\t\t<u-select v-model=\"userSelectShow\" :list=\"userList\" @confirm=\"userSelectChange\"></u-select>\r\n\t\t<u-toast ref=\"uToast\" />\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport {\r\n\t\tBASE_URL\r\n\t} from '../../common/api.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\tcrane_id: '',\r\n\t\t\t\t\tqzjLabel: '',\r\n\t\t\t\t\tmechanism: '',\r\n\t\t\t\t\tssjgLabel: '',\r\n\t\t\t\t\tgzh: '', // 工作号\r\n\t\t\t\t\tproduct_type: '', // 产品类型\r\n\t\t\t\t\tcompany: '',\r\n\t\t\t\t\tcompanyId: '',\r\n\t\t\t\t\treport_person: '',\r\n\t\t\t\t\tcreate_person: '',\r\n\t\t\t\t\tcreate_person_id: '',\r\n\t\t\t\t\treport_tel: '',\r\n\t\t\t\t\treport_time: '',\r\n\t\t\t\t\tbug_description: '',\r\n\t\t\t\t\treport_img: []\r\n\t\t\t\t},\r\n\t\t\t\tcompanyName: '',\r\n\t\t\t\tcurrentUserId: '',\r\n\t\t\t\taction: BASE_URL + 'Image/PostUpload',\r\n\t\t\t\tshow: {\r\n\t\t\t\t\tqzjInput: false,\r\n\t\t\t\t\tssjgInput: false,\r\n\t\t\t\t\tjgButton: true,\r\n\t\t\t\t\tcontactInput: false,\r\n\t\t\t\t\tcontactButton: true\r\n\t\t\t\t},\r\n\t\t\t\ttypeList: [],\r\n\t\t\t\tqzjSelectShow: false,\r\n\t\t\t\tssjgSelectShow: false,\r\n\t\t\t\tcompanySelectShow: false,\r\n\t\t\t\tuserSelectShow: false,\r\n\t\t\t\tqzjList: [],\r\n\t\t\t\tssjgList: [],\r\n\t\t\t\tcompanyList: [],\r\n\t\t\t\tuserList: [],\r\n\t\t\t\trules: {\r\n\t\t\t\t\tqzjLabel: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入具体内容',\r\n\t\t\t\t\t\ttrigger: 'blur',\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tssjgLabel: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入具体内容',\r\n\t\t\t\t\t\ttrigger: 'blur',\r\n\t\t\t\t\t}],\r\n\t\t\t\t\treport_tel: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入具体内容',\r\n\t\t\t\t\t\ttrigger: 'blur',\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tcreate_person_id: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入具体内容',\r\n\t\t\t\t\t\ttrigger: 'blur',\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tcompany: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择公司',\r\n\t\t\t\t\t\ttrigger: 'blur',\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {},\r\n\t\tmethods: {\r\n\t\t\ttagSelect(name) {\r\n\t\t\t\tfor (let item of this.typeList) {\r\n\t\t\t\t\tif (item.name === name) {\r\n\t\t\t\t\t\titem.mode = item.mode === 'plain' ? 'dark' : 'plain'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tremoveImg(index, lists) {\r\n\t\t\t\tconsole.log(lists)\r\n\t\t\t\tthis.form.report_img = []\r\n\t\t\t\tfor (let item of lists) {\r\n\t\t\t\t\tthis.form.report_img.push(item.response.url)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuploadSuccess(data) {\r\n\t\t\t\tthis.form.report_img.push(data.url)\r\n\t\t\t},\r\n\t\t\tchangeContactShow(){\r\n\t\t\t\tthis.show.contactInput = !this.show.contactInput\r\n\t\t\t\tthis.form.create_person = ''\r\n\t\t\t\tthis.form.create_person_id = ''\r\n\t\t\t\tthis.form.report_tel = ''\r\n\t\t\t},\r\n\t\t\tchangeQzjShow() {\r\n\t\t\t\tthis.show.qzjInput = !this.show.qzjInput\r\n\t\t\t\tthis.form.qzjLabel = ''\r\n\t\t\t\tthis.form.crane_id = -1\r\n\t\t\t\tthis.changeSsjgShow()\r\n\t\t\t\t// 如果起重机是手填状态，则机构也必须为手填状所以隐藏按钮\r\n\t\t\t\tif (this.show.qzjInput) {\r\n\t\t\t\t\tthis.show.jgButton = false\r\n\t\t\t\t\tthis.show.ssjgInput = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.show.jgButton = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchangeSsjgShow() {\r\n\t\t\t\tthis.show.ssjgInput = !this.show.ssjgInput\r\n\t\t\t\tthis.form.ssjgLabel = ''\r\n\t\t\t\tthis.form.mechanism = -1\r\n\t\t\t},\r\n\t\t\tgetCranesByCompany(val) {\r\n\t\t\t\tconst p = {\r\n\t\t\t\t\tcompanyID: val\r\n\t\t\t\t}\r\n\t\t\t\tthis.$myHttp('WaterData/GetCranesInCompany', p).then(res => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res.length === 0) {\r\n\t\t\t\t\t\tconsole.log(111)\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.qzjList = []\r\n\t\t\t\t\tfor (let item of res) {\r\n\t\t\t\t\t\tthis.qzjList.push({\r\n\t\t\t\t\t\t\tvalue: item.ID,\r\n\t\t\t\t\t\t\tlabel: item.起重机名称\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.form.crane_id = this.qzjList[0].value\r\n\t\t\t\t\tthis.form.qzjLabel = this.qzjList[0].label\r\n\t\t\t\t\tthis.getJgList()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetProductType() {\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\tpageSize: 20,\r\n\t\t\t\t\tpid: 'all',\r\n\t\t\t\t\tname: '产品类型',\r\n\t\t\t\t}\r\n\t\t\t\tthis.$myHttp('Dict/SelectSysDictType', data).then(res => {\r\n\t\t\t\t\tif (res.Total === 0) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst typeP = {\r\n\t\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\t\tpageSize: 1000,\r\n\t\t\t\t\t\tdict_id: res.Data[0].ID\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$myHttp('Dict/SelectSysDictTree', typeP).then(typeP => {\r\n\t\t\t\t\t\tthis.typeList = []\r\n\t\t\t\t\t\tfor (let item of typeP) {\r\n\t\t\t\t\t\t\tthis.typeList.push({\r\n\t\t\t\t\t\t\t\tname: item.name,\r\n\t\t\t\t\t\t\t\tmode: 'plain'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsubmitData() {\r\n\t\t\t\tlet temp = []\r\n\t\t\t\tfor (let item of this.typeList) {\r\n\t\t\t\t\tif (item.mode === 'dark') {\r\n\t\t\t\t\t\ttemp.push(item.name)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(temp.length === 0) {\r\n\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\ttitle: '请选择产品类型',\r\n\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.form.product_type = temp.length > 0 ? JSON.stringify(temp) : ''\r\n\t\t\t\tthis.$refs.uForm.validate(valid => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tlet subTemp = {\r\n\t\t\t\t\t\t\tOrderID: this.form.id,\r\n\t\t\t\t\t\t\tCraneID: this.form.crane_id,\r\n\t\t\t\t\t\t\tCraneName: this.form.qzjLabel,\r\n\t\t\t\t\t\t\tMechanismID: this.form.mechanism,\r\n\t\t\t\t\t\t\tMechanismName: this.form.ssjgLabel,\r\n\t\t\t\t\t\t\tProjectNumber: this.form.gzh,\r\n\t\t\t\t\t\t\tProductType: this.form.product_type,\r\n\t\t\t\t\t\t\tDescribe: this.form.bug_description,\r\n\t\t\t\t\t\t\tContactPerson: this.form.create_person_id,\r\n\t\t\t\t\t\t\tReportPerson: this.currentUserId,\r\n\t\t\t\t\t\t\tContactNumber: this.form.report_tel,\r\n\t\t\t\t\t\t\tPictureAddress: JSON.stringify(this.form.report_img),\r\n\t\t\t\t\t\t\tCompanyID: this.form.companyId,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet p = {\r\n\t\t\t\t\t\t\tinfo: JSON.stringify(subTemp),\r\n\t\t\t\t\t\t\ttype: 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$myHttp('Order/AddOrder', p).then(res => {\r\n\t\t\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\t\t\ttitle: '代报成功',\r\n\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t\t}, 600)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tqzjSelectChange(val) {\r\n\t\t\t\tthis.form.crane_id = val[0].value\r\n\t\t\t\tthis.form.qzjLabel = val[0].label\r\n\t\t\t\tthis.getJgList()\r\n\t\t\t},\r\n\t\t\tssjgSelectChange(val) {\r\n\t\t\t\tthis.form.mechanism = val[0].value\r\n\t\t\t\tthis.form.ssjgLabel = val[0].label\r\n\t\t\t},\r\n\t\t\tcompanySelectChange(val) {\r\n\t\t\t\tthis.form.company = val[0].label\r\n\t\t\t\tthis.form.companyId = val[0].value\r\n\t\t\t\tthis.selectUser()\r\n\t\t\t\tthis.getCranesByCompany(this.form.companyId)\r\n\t\t\t},\r\n\t\t\tgetCompanyList() {\r\n\t\t\t\tconsole.log(23)\r\n\t\t\t\tlet p = {\r\n\t\t\t\t\tcompanyName: this.companyName\r\n\t\t\t\t}\r\n\t\t\t\tthis.companyList = []\r\n\t\t\t\tthis.$myHttp('Main/GetAllCompany',p).then(res => {\r\n\t\t\t\t\tfor (let item of res) {\r\n\t\t\t\t\t\tthis.companyList.push({\r\n\t\t\t\t\t\t\tvalue: item.ID,\r\n\t\t\t\t\t\t\tlabel: item.名称\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.form.company = this.companyList[0].label\r\n\t\t\t\t\tthis.form.companyId = this.companyList[0].value\r\n\t\t\t\t\tthis.selectUser()\r\n\t\t\t\t\tthis.getCranesByCompany(this.form.companyId)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tuserSelectChange(val){\r\n\t\t\t\tthis.form.create_person = val[0].label\r\n\t\t\t\tthis.form.create_person_id = val[0].value\r\n\t\t\t\tthis.form.report_tel = val[0].extra\r\n\t\t\t},\r\n\t\t\tselectUser() {\r\n\t\t\t\tthis.userList = []\r\n\t\t\t\tlet p = {\r\n\t\t\t\t\tCompanyID: this.form.companyId\r\n\t\t\t\t}\r\n\t\t\t\tthis.$myHttp('Main/Get_UerInformation_CompanyID',p).then(resU => {\r\n\t\t\t\t\tfor (let item of resU) {\r\n\t\t\t\t\t\tthis.userList.push({\r\n\t\t\t\t\t\t\tvalue: item.ID,\r\n\t\t\t\t\t\t\tlabel: item.真实姓名,\r\n\t\t\t\t\t\t\textra:item.联系电话,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(this.userList)\r\n\t\t\t\t\tif(this.userList.length > 0) {\r\n\t\t\t\t\t\tthis.form.create_person = this.userList[0].label\r\n\t\t\t\t\t\tthis.form.create_person_id = this.userList[0].value\r\n\t\t\t\t\t\tthis.form.report_tel = this.userList[0].extra\r\n\t\t\t\t\t\tthis.show.contactButton = true\r\n\t\t\t\t\t\tthis.show.contactInput = false\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 所选公司下没有用户 create_persong_id直接传所填姓名(工程师版未接单的单子可以看到联系人)\r\n\t\t\t\t\t\tthis.form.create_person = ''\r\n\t\t\t\t\t\tthis.form.create_person_id = ''\r\n\t\t\t\t\t\tthis.form.report_tel = ''\r\n\t\t\t\t\t\tthis.show.contactButton = false\r\n\t\t\t\t\t\tthis.show.contactInput = true\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetUserId(){\r\n\t\t\t\tlet p = {\r\n\t\t\t\t\tname: uni.getStorageSync('name')\r\n\t\t\t\t}\r\n\t\t\t\tthis.$myHttp('Main/GetUserInfo',p).then(res => {\r\n\t\t\t\t\tthis.currentUserId = res.ID\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetJgList() {\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tcid: this.form.crane_id,\r\n\t\t\t\t\tTags: JSON.stringify(['mechanism']),\r\n\t\t\t\t\ttoLevel: 2,\r\n\t\t\t\t\tcal: 0\r\n\t\t\t\t}\r\n\t\t\t\tthis.ssjgList = []\r\n\t\t\t\tthis.$myHttp('AgentTree/GetNodesByTag', data).then(res => {\r\n\t\t\t\t\tif(res.length === 0) {\r\n\t\t\t\t\t\t// 起重机下没有机构 则切换到手填模式\r\n\t\t\t\t\t\tthis.show.ssjgInput = true\r\n\t\t\t\t\t\tthis.form.mechanism = -1\r\n\t\t\t\t\t\tthis.form.ssjgLabel = ''\r\n\t\t\t\t\t\tthis.show.jgButton = false\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.show.ssjgInput = false\r\n\t\t\t\t\tthis.show.jgButton = true\r\n\t\t\t\t\tfor (let item of res) {\r\n\t\t\t\t\t\tthis.ssjgList.push({\r\n\t\t\t\t\t\t\tvalue: item.ID,\r\n\t\t\t\t\t\t\tlabel: item.NodeConfig.ShowName\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.form.mechanism = this.ssjgList[0].value\r\n\t\t\t\t\tthis.form.ssjgLabel = this.ssjgList[0].label\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.$refs.uForm.setRules(this.rules)\r\n\t\t},\r\n\t\tonShow() {},\r\n\t\tonLoad() {\r\n\t\t\tthis.getProductType()\r\n\t\t\tthis.getCompanyList()\r\n\t\t\tthis.getUserId()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.u-form-item--right__content__slot {\r\n\t\tflex-wrap: wrap !important;\r\n\t}\r\n</style>\n","import mod from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./baoxiuadd.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./baoxiuadd.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}